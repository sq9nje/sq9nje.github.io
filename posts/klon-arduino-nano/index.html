<!doctype html><html lang=pl-pl><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Klon Arduino Nano - SQ9NJE</title><meta name=Description content="Zapach kalafonii o poranku"><meta property="og:title" content="Klon Arduino Nano"><meta property="og:description" content="Arduino jest bardzo popularną platformą developerską dla mikrokontrolerów AVR. Swoją popularność zawdzięcza zapewne kilku czynnikom, między innymi IDE, które w prosty sposób pozwala tworzyć firmware nawet niedoświadczonym programistom oraz dobrze opracowanej płytce uruchomieniowej. Dzięki temu, że cały projekt jest open source i został udostępniony na licencji Creative Commons powstało wiele dodatkowych „tarcz” z peryferiami rozszerzającymi możliwości podstawowej płytki oraz biblioteki kodu do obsługi tych peryferiów. Społeczność ludzi aktywnie wykorzystujących Arduino w swoich projektach ciągle rośnie."><meta property="og:type" content="article"><meta property="og:url" content="http://sq9nje.pl/posts/klon-arduino-nano/"><meta property="article:published_time" content="2012-09-13T00:00:00+00:00"><meta property="article:modified_time" content="2012-09-13T00:00:00+00:00"><meta property="og:site_name" content="SQ9NJE"><meta name=twitter:card content="summary"><meta name=twitter:title content="Klon Arduino Nano"><meta name=twitter:description content="Arduino jest bardzo popularną platformą developerską dla mikrokontrolerów AVR. Swoją popularność zawdzięcza zapewne kilku czynnikom, między innymi IDE, które w prosty sposób pozwala tworzyć firmware nawet niedoświadczonym programistom oraz dobrze opracowanej płytce uruchomieniowej. Dzięki temu, że cały projekt jest open source i został udostępniony na licencji Creative Commons powstało wiele dodatkowych „tarcz” z peryferiami rozszerzającymi możliwości podstawowej płytki oraz biblioteki kodu do obsługi tych peryferiów. Społeczność ludzi aktywnie wykorzystujących Arduino w swoich projektach ciągle rośnie."><meta name=application-name content="SQ9NJE"><meta name=apple-mobile-web-app-title content="SQ9NJE"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=http://sq9nje.pl/posts/klon-arduino-nano/><link rel=prev href=http://sq9nje.pl/posts/ft817-rozblokowanie-nadajnika/><link rel=next href=http://sq9nje.pl/posts/piligrim-synteza/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Klon Arduino Nano","inLanguage":"pl-pl","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/sq9nje.pl\/posts\/klon-arduino-nano\/"},"genre":"posts","wordcount":837,"url":"http:\/\/sq9nje.pl\/posts\/klon-arduino-nano\/","datePublished":"2012-09-13T00:00:00+00:00","dateModified":"2012-09-13T00:00:00+00:00","publisher":{"@type":"Organization","name":"Przemek"},"author":{"@type":"Person","name":"Przemek"},"description":""}</script></head><body header-desktop header-mobile><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':('auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=SQ9NJE>SQ9NJE</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posty </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=SQ9NJE>SQ9NJE</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/>Posty</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><article class="page single"><h1 class="single-title animated flipInX">Klon Arduino Nano</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>Przemek</a></span>&nbsp;<span class=post-category>included in <a href=/categories/arduino/><i class="far fa-folder fa-fw"></i>Arduino</a>&nbsp;<a href=/categories/elektronika/><i class="far fa-folder fa-fw"></i>Elektronika</a>&nbsp;<a href=/categories/sprz%C4%99t/><i class="far fa-folder fa-fw"></i>Sprzęt</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2012-09-13>2012-09-13</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;837 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;4 minutes&nbsp;</div></div><div class=content id=content><p>Arduino jest bardzo popularną platformą developerską dla mikrokontrolerów AVR. Swoją popularność zawdzięcza zapewne kilku czynnikom, między innymi IDE, które w prosty sposób pozwala tworzyć firmware nawet niedoświadczonym programistom oraz dobrze opracowanej płytce uruchomieniowej. Dzięki temu, że cały projekt jest open source i został udostępniony na licencji Creative Commons powstało wiele dodatkowych „tarcz” z peryferiami rozszerzającymi możliwości podstawowej płytki oraz biblioteki kodu do obsługi tych peryferiów. Społeczność ludzi aktywnie wykorzystujących Arduino w swoich projektach ciągle rośnie.</p><p><figure><a class=lightgallery href=/posts/klon-arduino-nano/img/arduino_boards.jpg title=/posts/klon-arduino-nano/img/arduino_boards.jpg data-thumbnail=/posts/klon-arduino-nano/img/arduino_boards.jpg data-sub-html="<h2>Puste plytki</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=img/arduino_boards.jpg data-srcset="/posts/klon-arduino-nano/img/arduino_boards.jpg, img/arduino_boards.jpg 1.5x, /posts/klon-arduino-nano/img/arduino_boards.jpg 2x" data-sizes=auto alt=/posts/klon-arduino-nano/img/arduino_boards.jpg></a><figcaption class=image-caption>Puste plytki</figcaption></figure><figure><a class=lightgallery href=/posts/klon-arduino-nano/img/arduino.jpg title=/posts/klon-arduino-nano/img/arduino.jpg data-thumbnail=/posts/klon-arduino-nano/img/arduino.jpg data-sub-html="<h2>Arduino Nano - Gotowy moduł</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=img/arduino.jpg data-srcset="/posts/klon-arduino-nano/img/arduino.jpg, img/arduino.jpg 1.5x, /posts/klon-arduino-nano/img/arduino.jpg 2x" data-sizes=auto alt=/posts/klon-arduino-nano/img/arduino.jpg></a><figcaption class=image-caption>Arduino Nano - Gotowy moduł</figcaption></figure></p><p>Z biegiem czasu powstało też wiele wersji podstawowej płytki Arduino np. Duemillenuove, UNO itp. Nano jest jedną z najmniejszych wersji sprzętu kompatybilnego z Arduino. Jest to modulik DIP przeznaczony do budowania prototypów na płytkach stykowych itp. Ponieważ udało mi się kupić kilka sztuk ATmega328P w dobrej cenie, a od dawna myślałem o małych modułach eksperymentalnych, postanowiłem spróbować zrobić własny klon Nano.</p><p>Arduino Nano zostało opracowane przez firmę Gravitech i jak to zwykle bywa, miało kilka wersji w tym taką, zrobioną na czterowarstwowym druku. Ja swój moduł oparłem o najnowszą wersję 3.0. Schemat tego modułu jest właściwie bardzo prosty. Wszystkie porty mikrokontrolera ATmega328 zostały wyprowadzone na złącza goldpin. Układ FT232RL w typowej dla siebie aplikacji odpowiada za konwersję USB – RS232. Ciekawym rozwiązaniem jest podłączenie wyjścia DTR poprzez kondensator 100nF do pinu RESET mikrokontrolera. Pozwala to na automatyczne resetowanie procesora za pomocą portu szeregowego co jest wykorzystywane przez bootloader – ale o tym za chwilę. Układ zasilany jest z portu USB, choć można podłączyć do niego również zewnętrzne zasilanie 5V, na płytce znajduje się też dodatkowy stabilizator, który pozwoli zasilić urządzenie wyższym napięciem. Jedyną różnicą układową w stosunku do oryginalnego Nano jest brak diody LED podłączonej do pinu D13. Decyzję taką podjąłem, ponieważ chciałem mieć uniwersalny i minimalistyczny modulik, choć teraz, kiedy już chwilę używam tych modułów, doszedłem do wniosku, że był to błąd – ta dioda byłaby bardzo wygodnym narzędziem diagnostycznym.</p><h2 id=projekt>Projekt</h2><p>Chęć zachowania kompatybilności mechanicznej z oryginałem – moduł miał mieć dwa rzędy po 15 goldpinów w odstępie 600 mils – podyktowała konieczność zaprojektowania dwustronnej płytki drukowanej. W dodatku nieunikniony był obustronny montaż elementów, rozwiązanie niezbyt optymalne pod względem kosztów produkcji przemysłowej, bo wymusza dwukrotne przejście płytki przez automaty pick & place, podklejanie elementów żeby nie pospadały w piecu itp. Cóż, miniaturyzacja nie przychodzi łatwo… Dzięki temu, że sam projektowałem płytkę, mogłem przystosować ją do posiadanych i łatwo dostępnych elementów. Zasadniczo wszystkie elementy bierne są w rozmiarze 0603, ale footprinty są na tyle duże, że przy odrobinie wprawy można spokojnie wlutować 0805.</p><p>Routing tak małej płyteczki dla niezbyt doświadczonego projektanta jak ja okazał się niezłą gimnastyką :) Ścieżki poprowadzone są w reżimie 8 mils / 8 mils, ale celowo przelotki zrobiłem dosyć duże z otworkami średnicy 0.4 mm. Niestety w moim domowym warsztacie takiej płytki wykonać nie mogę, więc przygotowałem dokumentację w postaci plików Gerber i wysłałem projekt do fabryki. Już po trzech tygodniach w skrzynce pocztowej czekała koperta z dziesięcioma płytkami, z czego 8 było testowanych elektrycznie.</p><p>Jakość płytek jakie otrzymałem jest bardzo dobra. Wykonane są na laminacie FR4 1.2 mm z soldermaską i dwustronnym opisem. Krawędzie są frezowane, więc mogłem sobie pozwolić na ekstrawagancję zaokrąglenia rogów. Są też bardzo gładkie. Na takich płytkach montaż to czysta przyjemność i już po chwili miałem gotowy i działający pierwszy egzemplarz.</p><ul><li><a href=/posts/klon-arduino-nano/img/arduino_nano_schematics.pdf rel>Schemat</a></li><li><a href=/posts/klon-arduino-nano/img/arduino_nano.zip rel>Projekt Eagle</a></li></ul><h2 id=bootloader>Bootloader</h2><p>Po zmontowaniu płytki i podłączeniu do komputera konieczna jest instalacja sterowników do układu FT232RL. Mój Windows 7 znalazł je automatycznie, ale można je też pobrać ze strony producenta. Jeśli wszystko przebiegło pomyślnie powinniśmy mieć w swoim systemie nowy port COM. Jego nazwę można zweryfikować za pomocą Menedżera Urządzeń.</p><p>Aby móc łatwo i wygodnie programować nasz moduł z IDE Arduino, warto wgrać do mikrokontrolera bootloader. Arduino dostarczane jest wraz z zestawem skompilowanych standardowych bootloaderów. IDE pozwala przeprowadzić operację programowania bootloadera automatycznie, nie trzeba się właściwie nad niczym zastanawiać, choć potrzebny będzie do tego programator. W menu Tools -> Board wybieramy Arduino Nano w/ ATmega328. Spowoduje to wybranie konfiguracji odpowiedniej dla naszej płytki. W menu Tools -> Programmer wybieramy posiadany przez nas programator. Ja zastosowałem Bus Pirate. Na koniec wybieramy Tools -> Burn Bootloader i już po chwili cieszymy się wynikami naszej pracy.</p><p>Od tej pory nie trzeba już używać programatora aby załadować nasze programy do mikrokontrolera. Dostarczony wraz z Arduino bootloader emuluje programator Atmel stk500. Po resecie mikrokontrolera bootloader czeka około jednej sekundy na rozpoczęcie programowania. W oryginalnej płytce Arduino Nano sygnalizowane jest mignięciem diodą podłączoną do wyjścia D13. Jak pisałem wcześniej, mój moduł nie posiada tej diody, więc trzeba pamiętać, że podczas startu modułu na wyprowadzeniu D13 pojawi się na chwilkę stan wysoki (być może przyda się to do resetowania peryferiów?). Jeśli bootloader nie wykryje próby programowania, to następuje skok do właściwego programu.</p><p>W Arduino Nano został zastosowany sprytny trick, który pozwala na automatyczne resetowanie mikrokontrolera. Linię DTR portu szeregowego podłączono do nogi RESET poprzez kondensator 100n. Krótkie „machnięcie” stanem linii DTR powoduje więc zresetowanie mikrokontrolera. Pozwala to ułatwić proces programowania – nie trzeba już resetować układu przyciskiem, IDE Arduino potrafi to zrobić automatycznie.</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2012-09-13</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/ft817-rozblokowanie-nadajnika/ class=prev rel=prev title="Yaesu FT-817ND Rozblokowanie Nadajnika"><i class="fas fa-angle-left fa-fw"></i>Yaesu FT-817ND Rozblokowanie Nadajnika</a>
<a href=/posts/piligrim-synteza/ class=next rel=next title="Piligrim - Synteza Oleg9">Piligrim - Synteza Oleg9<i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreferrer" title="Hugo 0.79.1">Hugo</a> | Theme - <a href=https://github.com/sunt-programator/CodeIT target=_blank rel="noopener noreferrer" title="CodeIT 0.2.10"><i class="fas fa-laptop-code fa-fw"></i>CodeIT</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2021</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank rel="noopener noreferrer">Przemek</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=/lib/lightgallery/lightgallery.min.css><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/lightgallery/lightgallery.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-thumbnail.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-zoom.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true}};</script><script type=text/javascript src=/js/theme.min.js></script></body></html>